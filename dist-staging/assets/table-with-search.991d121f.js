var H=Object.defineProperty,$=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var x=(a,t,u)=>t in a?H(a,t,{enumerable:!0,configurable:!0,writable:!0,value:u}):a[t]=u,C=(a,t)=>{for(var u in t||(t={}))P.call(t,u)&&x(a,u,t[u]);if(w)for(var u of w(t))V.call(t,u)&&x(a,u,t[u]);return a},T=(a,t)=>$(a,A(t));import{b as i,d as W,e as J,o as n,p as d,a as p,w as s,F as v,a4 as D,c,s as r,I as _,H as k,m as O,as as q,bq as G,ar as M,bv as Q,br as X,bo as Y,aH as Z,aG as ee,J as ae,bg as te,bh as oe}from"./vendor.a1e22204.js";/* empty css              *//* empty css               *//* empty css               */import{_ as ne,p as ue,g as le,e as se,f as ce,i as re}from"./index.b5a687fa.js";/* empty css               *//* empty css               */import{d as ie,b as de,u as _e,a as pe,c as ve}from"./table.89c097ae.js";const F=[{key:"name",label:"\u7528\u6237\u59D3\u540D",type:"input",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u59D3\u540D",value:i(""),reset:function(){this.value.value=""}},{key:"sex",label:"\u7528\u6237\u59D3\u522B",value:i(void 0),type:"select",placeholder:"\u8BF7\u9009\u62E9\u7528\u6237\u59D3\u522B",optionItems:[{label:"\u7537",value:1},{label:"\u5973",value:2}],reset:function(){this.value.value=void 0}},{key:"date",label:"\u65E5\u671F",type:"date",value:i()},{key:"time",label:"\u65F6\u95F4",type:"time",value:i("")},{key:"checkbox",label:"\u590D\u9009",type:"check-group",value:i([]),optionItems:[{label:"\u9009\u98791",value:0},{label:"\u9009\u98792",value:1}]}],ye=W({name:"TableWithSearch",setup(){const a=i(null),t=ie(m),{selectedRowKeys:u,onSelectChange:S}=de(),y=_e(),I=ve("id"),f=pe([y.indexColumn,{title:"\u540D\u79F0",key:"nickName",dataIndex:"nickName"},{title:"\u6027\u522B",key:"gender",dataIndex:"gender"},{title:"\u5934\u50CF",key:"avatar",dataIndex:"avatar"},{title:"\u5730\u5740",key:"address",dataIndex:"address"},{title:"\u767B\u5F55\u65F6\u95F4",key:"lastLoginTime",dataIndex:"lastLoginTime"},{title:"\u767B\u5F55IP",key:"lastLoginIp",dataIndex:"lastLoginIp"},{title:"\u72B6\u6001",key:"status",dataIndex:"status"}],{align:"center"});function m(){ue({url:le,data:()=>({page:t.page,pageSize:t.pageSize})}).then(l=>{y.handleSuccess(l),t.setTotalSize(l.totalSize||10)}).catch(console.log)}function b(){O.success("\u6A21\u62DF\u67E5\u8BE2\u6210\u529F\uFF0C\u53C2\u6570\u4E3A\uFF1A"+JSON.stringify(F.reduce((l,h)=>(l[h.key]=h.value.value,l),{})))}function g(){F.forEach(l=>{l.reset?l.reset():l.value.value=""})}return J(m),T(C({},y),{rowKey:I,pagination:t,searchForm:a,tableColumns:f,conditionItems:F,onSearch:b,onResetSearch:g,selectedRowKeys:u,onSelectChange:S})}}),me={class:"main-container"},he=_("\u6B63\u5E38"),ke=_("\u7981\u7528");function fe(a,t,u,S,y,I){const f=q,m=G,b=M,g=Q,l=X,h=Y,E=Z,R=ee,U=se,j=ae,B=te,K=oe,L=ce,N=re;return n(),d("div",me,[p(U,{"show-filter":!0,title:"\u67E5\u8BE2\u6761\u4EF6",onSearch:a.onSearch,onResetSearch:a.onResetSearch},{"search-content":s(()=>[p(R,{layout:"inline"},{default:s(()=>[(n(!0),d(v,null,D(a.conditionItems,e=>(n(),c(E,{key:e.key,label:e.label},{default:s(()=>[e.type==="input"?(n(),c(f,{key:0,value:e.value.value,"onUpdate:value":o=>e.value.value=o,placeholder:e.placeholder},null,8,["value","onUpdate:value","placeholder"])):r("v-if",!0),e.type==="select"?(n(),c(b,{key:1,value:e.value.value,"onUpdate:value":o=>e.value.value=o,style:{width:"150px"},placeholder:e.placeholder},{default:s(()=>[(n(!0),d(v,null,D(e.optionItems,o=>(n(),c(m,{key:o.value,value:o.value},{default:s(()=>[_(k(o.label),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","placeholder"])):r("v-if",!0),e.type==="date"?(n(),c(g,{key:2,value:e.value.value,"onUpdate:value":o=>e.value.value=o},null,8,["value","onUpdate:value"])):r("v-if",!0),e.type==="time"?(n(),c(l,{key:3,value:e.value.value,"onUpdate:value":o=>e.value.value=o,"value-format":"HH:mm:ss"},null,8,["value","onUpdate:value"])):r("v-if",!0),e.type==="check-group"?(n(),c(h,{key:4,value:e.value.value,"onUpdate:value":o=>e.value.value=o,options:e.optionItems},null,8,["value","onUpdate:value","options"])):r("v-if",!0)]),_:2},1032,["label"]))),128))]),_:1})]),_:1},8,["onSearch","onResetSearch"]),p(L,{ref:"tableBody"},{default:s(()=>[p(K,{"row-selection":{selectedRowKeys:a.selectedRowKeys,onChange:a.onSelectChange},loading:a.tableLoading,"data-source":a.dataList,columns:a.tableColumns,pagination:!1,rowKey:a.rowKey},{bodyCell:s(({column:e,record:o,index:z})=>[e.key==="index"?(n(),d(v,{key:0},[_(k(z+1),1)],2112)):r("v-if",!0),e.key==="gender"?(n(),d(v,{key:1},[_(k(o.gender===1?"\u7537":"\u5973"),1)],2112)):r("v-if",!0),e.key==="avatar"?(n(),c(j,{key:2},{default:s(()=>[_(k(o.nickName.substring(0,1)),1)]),_:2},1024)):r("v-if",!0),e.key==="status"?(n(),d(v,{key:3},[o.status===1?(n(),c(B,{key:0,color:"success",size:"small"},{default:s(()=>[he]),_:1})):(n(),c(B,{key:1,color:"error",size:"small"},{default:s(()=>[ke]),_:1}))],2112)):r("v-if",!0)]),_:1},8,["row-selection","loading","data-source","columns","rowKey"])]),_:1},512),p(N,{pagination:a.pagination},null,8,["pagination"])])}var Te=ne(ye,[["render",fe],["__scopeId","data-v-6be650f9"]]);export{Te as default};
