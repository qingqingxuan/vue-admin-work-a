var L=Object.defineProperty,O=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var B=(e,t,l)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,U=(e,t)=>{for(var l in t||(t={}))H.call(t,l)&&B(e,l,t[l]);if(x)for(var l of x(t))K.call(t,l)&&B(e,l,t[l]);return e},E=(e,t)=>O(e,S(t));import{_ as V,p as J,w as P,r as R,e as G,f as Q,x as W,v as X}from"./index.b5a687fa.js";import{d as Y,b as s,m as y,e as Z,o,p as D,a as _,w as i,F as I,I as f,H as F,s as d,c as v,y as ee,a4 as ue,q as ae,M as te,bg as le,P as ne,aS as oe,bh as se,_ as ie,as as re,ap as ce,aH as de,aG as ve}from"./vendor.a1e22204.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               */import{u as _e,a as pe,c as fe}from"./table.89c097ae.js";const me=Y({name:"Menu",setup(){const e=s("add"),t=_e(),l=s(null),g=s(null),w=fe("menuUrl"),A=pe([{title:"\u83DC\u5355\u540D\u79F0",key:"menuName",dataIndex:"menuName"},{title:"\u83DC\u5355\u5730\u5740",key:"menuUrl",dataIndex:"menuUrl"},{title:"\u83DC\u5355\u56FE\u6807",key:"icon"},{title:"\u662F\u5426\u7F13\u5B58",key:"cacheable",dataIndex:"cacheable"},{title:"\u662F\u5426\u9690\u85CF",key:"hidden",dataIndex:"hidden"},{title:"\u662F\u5426\u56FA\u5B9A\u6807\u9898\u680F",key:"affix",dataIndex:"affix"},{title:"\u64CD\u4F5C",key:"actions"}],{align:"center"}),p=[{label:"\u4E0A\u7EA7\u83DC\u5355",key:"parentPath",value:s(void 0),placeholder:"\u8BF7\u9009\u62E9\u4E0A\u7EA7\u83DC\u5355",type:"tree-select",reset:function(){this.value.value=void 0}},{label:"\u83DC\u5355\u540D\u79F0",key:"menuName",required:!0,type:"input",placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",value:s(""),validator:function(){return this.value.value?!0:(y.error(this.placeholder),!1)},reset:function(){this.value.value=""}},{label:"\u83DC\u5355\u5730\u5740",key:"menuUrl",required:!0,value:s(""),type:"input",disabled:s(!1),placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u5730\u5740",validator:function(){return this.value.value?!0:(y.error(this.placeholder),!1)},reset:function(){this.value.value=""}},{label:"\u5916\u94FE\u5730\u5740",key:"outLink",type:"input",placeholder:"\u8BF7\u8F93\u5165\u5916\u94FE\u5730\u5740",value:s(""),reset:function(){this.value.value=""}},{label:"\u83DC\u5355\u56FE\u6807",key:"icon",type:"icon",value:s(""),reset:function(){this.value.value=""}},{label:"\u662F\u5426\u7F13\u5B58",key:"cacheable",type:"switch",value:s(!1),reset:function(){this.value.value=!1}},{label:"\u662F\u5426\u9690\u85CF",key:"hidden",type:"switch",value:s(!1),reset:function(){this.value.value=!1}},{label:"\u662F\u5426\u56FA\u5B9A",key:"affix",type:"switch",value:s(!1),reset:function(){this.value.value=!1}}];function k(){J({url:P,data:{}}).then(t.handleSuccess).catch(console.log)}function m(){var r;e.value="add",p.forEach(n=>{n.reset&&n.reset()}),(r=l.value)==null||r.show()}function h(r){var n;e.value="edit",p.forEach(c=>{c.value.value=r[c.key]||null,c.key==="menuUrl"&&c.disabled&&(c.disabled.value=!0)}),(n=l.value)==null||n.show()}function C(){var r;e.value==="add"&&p.every(n=>n.validator?n.validator():!0)&&((r=l.value)==null||r.close(),y.success("\u6A21\u62DF\u521B\u5EFA\u83DC\u5355\u6210\u529F, \u53C2\u6570\u4E3A:"+JSON.stringify(p.reduce((n,c)=>(n[c.key]=c.value.value||"",n),{}))))}function b(r){te.confirm({title:"\u63D0\u793A",content:"\u662F\u5426\u8981\u5220\u9664\u6B64\u6570\u636E\uFF1F",okText:"\u5220\u9664",cancelText:"\u53D6\u6D88",onOk:()=>{y.success("\u6A21\u62DF\u5220\u9664\u6210\u529F\uFF0C\u53C2\u6570\u4E3A\uFF1A"+JSON.stringify(r))}})}return Z(k),E(U({rowKey:w,actionModel:e,modalDialog:l,dataForm:g},t),{itemFormOptions:p,tableColumns:A,onAddItem:m,onDeleteItem:b,onUpdateItem:h,onConfirm:C})}}),he={class:"main-container"},ye=f(" \u7F16\u8F91 "),Fe=f("\u5220\u9664");function ke(e,t,l,g,w,A){const p=R,k=G,m=le,h=ne,C=oe,b=se,r=Q,n=ie,c=re,N=W,M=ce,$=de,j=ve,z=X;return o(),D("div",he,[_(k,{"show-filter":!1},{"top-right":i(()=>[_(p,{onAdd:e.onAddItem},null,8,["onAdd"])]),_:1}),_(r,null,{default:i(()=>[_(b,{loading:e.tableLoading,"data-source":e.dataList,"row-key":e.rowKey,columns:e.tableColumns,pagination:!1},{bodyCell:i(({column:u,record:a,index:T})=>[u.key==="index"?(o(),D(I,{key:0},[f(F(T+1),1)],2112)):d("v-if",!0),u.key==="icon"?(o(),v(ee(a.icon||"MenuOutlined"),{key:1,style:{"font-size":"18px"}})):d("v-if",!0),u.key==="cacheable"?(o(),v(m,{key:2,size:"small",color:a.cacheable?"success":"error"},{default:i(()=>[f(F(a.cacheable?"\u662F":"\u5426"),1)]),_:2},1032,["color"])):d("v-if",!0),u.key==="hidden"?(o(),v(m,{key:3,size:"small",color:a.hidden?"success":"error"},{default:i(()=>[f(F(a.hidden?"\u662F":"\u5426"),1)]),_:2},1032,["color"])):d("v-if",!0),u.key==="affix"?(o(),v(m,{key:4,size:"small",color:a.affix?"success":"error"},{default:i(()=>[f(F(a.affix?"\u662F":"\u5426"),1)]),_:2},1032,["color"])):d("v-if",!0),u.key==="actions"?(o(),v(C,{key:5},{default:i(()=>[_(h,{ghost:"",type:"primary",onClick:q=>e.onUpdateItem(a),size:"small"},{default:i(()=>[ye]),_:2},1032,["onClick"]),_(h,{danger:"",size:"small",onClick:q=>e.onDeleteItem(a)},{default:i(()=>[Fe]),_:2},1032,["onClick"])]),_:2},1024)):d("v-if",!0)]),_:1},8,["loading","data-source","row-key","columns"])]),_:1}),_(z,{ref:"modalDialog",title:e.actionModel==="add"?"\u6DFB\u52A0\u83DC\u5355":"\u7F16\u8F91\u83DC\u5355",onConfirm:e.onConfirm,"content-height":"50vh"},{content:i(()=>[_(j,{wrapperCol:{span:18}},{default:i(()=>[(o(!0),D(I,null,ue(e.itemFormOptions,u=>(o(),v($,{class:ae([u.required?"form-item__require":"form-item__no_require"]),label:u.label,key:u.key},{default:i(()=>[u.type==="tree-select"?(o(),v(n,{key:0,value:u.value.value,"onUpdate:value":a=>u.value.value=a,"show-search":"",fieldNames:{label:"menuName",key:"menuUrl",value:"menuUrl"},style:{width:"100%"},"dropdown-style":{maxHeight:"400px",overflow:"auto"},placeholder:u.placeholder,"allow-clear":"","tree-data":e.dataList},null,8,["value","onUpdate:value","placeholder","tree-data"])):d("v-if",!0),u.type==="input"?(o(),v(c,{key:1,value:u.value.value,"onUpdate:value":a=>u.value.value=a,placeholder:u.placeholder},null,8,["value","onUpdate:value","placeholder"])):d("v-if",!0),u.type==="icon"?(o(),v(N,{key:2,value:u.value.value,"onUpdate:value":a=>u.value.value=a},null,8,["value","onUpdate:value"])):d("v-if",!0),u.type==="switch"?(o(),v(M,{key:3,checked:u.value.value,"onUpdate:checked":a=>u.value.value=a},null,8,["checked","onUpdate:checked"])):d("v-if",!0)]),_:2},1032,["class","label"]))),128))]),_:1})]),_:1},8,["title","onConfirm"])])}var Ue=V(me,[["render",ke]]);export{Ue as default};
